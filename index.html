
     <html>
  		<head>
	     <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	     <meta name="mobile-web-app-capable" content="yes">
	     <meta name="apple-mobile-web-app-capable" content="yes">

	     <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>

	     <link rel="import" href="bower_components/paper-styles/demo-pages.html">
	     <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
	     <link rel="import" href="bower_components/paper-drawer-panel/paper-drawer-panel.html">
	     <link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
	     <link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
	     <link rel="import" href="bower_components/paper-item/paper-item.html">
	     <link rel="import" href="bower_components/paper-card/paper-card.html">
	     <link rel="import" href="bower_components/paper-input/paper-input.html">
	     <link rel="import" href="bower_components/iron-icons/iron-icons.html">
	     <link rel="import" href="bower_components/iron-pages/iron-pages.html">
	     <link rel="import" href="bower_components/paper-button/paper-button.html">
	     <link rel="import" href="bower_components/paper-styles/paper-styles.html">
	     <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
	     <link rel="import" href="bower_components/paper-menu-button/paper-menu-button.html">
	     <link rel="import" href="bower_components/paper-menu/paper-menu.html">
	     <link rel="import" href="bower_components/paper-badge/paper-badge.html">

	     <link rel="import" href="src/item-list.html">
	     <link rel="import" href="src/category-list.html">
	     <link rel="import" href="src/itemcategory-list.html">
	     <link rel="import" href="src/bottom-card.html">
	     <link rel="import" href="src/app-list.html">
	     <link rel="import" href="src/myoffer-list.html">
	     <link rel="import" href="src/offer-list.html">
	     <link rel="import" href="src/brand-menu-card.html">
    	 <link rel="import" href="src/brand-list.html">
    	 <link rel="import" href="src/login-card.html">
    	 <link rel="import" href="src/register-card.html">
         <link rel="import" href="src/viewcart-list.html">
         <link rel="import" href="src/purchase-list.html">
         <link rel="import" href="src/no-items.html">
         <link rel="import" href="src/order-placed.html">
         <link rel="import" href="src/temp-service.html">
         <link rel="import" href="src/count-service.html">
         <link rel="import" href="src/shipping-card.html">
         <link rel="import" href="src/referfriend-card.html">
         <link rel="import" href="src/ordersummary-list.html">
         <link rel="import" href="src/app-service.html">
         <link rel="import" href="src/filter-card.html">

  </head>

  <body unresolved>
  <my-app></my-app>
  <dom-module id="my-app">
   <style is="custom-style">
      ::-webkit-scrollbar {
  	    display: none;
      }
  	.top{
  	background-color: #B2C2F0;
  	height: 50px;
  	}
  	.bottom{
  	//margin-top : 55%;
  	width: 100%;
  	margin-left: 90%;
  	}
  	.bottomicon{

  	}
  	.content{
  	width:100%;
  	height: 75%;
  	text-align: center;
  	overflow: scroll;
  	background-color: white;
  	}
      .title{
      margin-left:-30px;
      font-size:10px;
      }
      .search{
      margin-top: 0px;
      }
      paper-badge{
      margin-top: 5px;
      margin-left: -10px;
      }

      </style>
  <template>

  	<paper-drawer-panel responsiveWith="300px">
  	  <paper-header-panel drawer>
  	    <paper-toolbar>
  	      <div></div>
  	    </paper-toolbar>
  	    <div>
	    <paper-menu class="content fit">
	    <!-- Dynamic menu creation for drawer panel -->
		<app-list></app-list>
	    </paper-menu>
  	    </div>
  	  </paper-header-panel>
  	  <paper-header-panel main>
  	  <!-- Top Toolbar for label change-->
  	      <paper-toolbar>
  	        <div><paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button></div>
  			<div><paper-item class="title">{{title}}</paper-item></div>
  	        <div class="flex"></div>
  	    	<paper-button class="in" on-click="signin">{{bname}}</paper-button>
   	      </paper-toolbar>
  	  <!-- Top Toolbar for search and cart-->
  	      <paper-toolbar class="top">
  	        <paper-input class="search" label="Search" value="{{searchtext}}" no-label-float>
  			<paper-icon-button icon="search" suffix title="search" on-click="search"></paper-icon-button>
  		    </paper-input>
  	        <div class="flex"></div>
			<filter-card id="filtermenu"></filter-card>
  	        <paper-icon-button id="number" icon="shopping-cart" on-click="viewcart">
			</paper-icon-button>
			<paper-badge for="number" label="{{countvalue}}">
			</paper-badge>
  		  	<!--<iron-icon icon="shopping-cart" prefix on-click="viewcart"></iron-icon>-->
  		  </paper-toolbar>
  	      <div class="content">
  	  <!-- Div to change the content area using iron pages-->
   			<iron-pages selected="{{page}}" attr-for-selected="data-category">
   			  <section data-category="category">
  				<category-list></category-list>
              </section>
              <section data-category="itemcategory">
        	  	<itemcategory-list></itemcategory-list>
              </section>
        	  <section data-category="itemlist">
  			  	<item-list></item-list>
              </section>
              <section data-category="allitem">
			    			  	<item-list></item-list>
              </section>
              <section data-category="My brands">
              	<brand-menu-card></brand-menu-card>
        	  </section>
        	  <section data-category="login card">
  			  	<login-card id="logincard"></login-card>
        	  </section>
        	  <section data-category="register card">
			    			  	<register-card id="registercard"></register-card>
        	  </section>
			  <section data-category="view card">
  			  	<viewcart-list></viewcart-list>
        	  </section>
        	  <section data-category="My Purchases">
			   <purchase-list></purchase-list>
        	  </section>
        	  <section data-category="No Item">
			    <no-items></no-items>
        	  </section>
        	   <section data-category="order placed">
			  			    <order-placed></order-placed>
        	  </section>
        	  <section data-category="shipping card">
			  			    <shipping-card></shipping-card>
        	  </section>
        	   <section data-category="refer card">
			  			    <referfriend-card></referfriend-card>
        	  </section>
        	   <section data-category="summary card">
		       <ordersummary-list></ordersummary-list>
        	  </section>
      		</iron-pages>
  	      </div>
  	      <div class="bottom">
  	      <!-- Bottom card to change the placeholder icons -->
              <iron-pages selected="{{bpage}}" attr-for-selected="data">
  				<section data="page1">
  				<bottom-card></bottom-card>
              	</section>
              </iron-pages>
  	      </div>
        </paper-header-panel>
      </paper-drawer-panel>

      <temp-service id="tempservice"></temp-service>
      <app-service id="appservice"></app-service>

  </template>
  <script>
    (function() {
    var namee="";
    var tempnamee="";
  Polymer({
    is: "my-app",
    ready: function() {
    this.$.filtermenu.style.visibility='hidden';
    this.count="0";
    //Initially it has to show home label as a title and home page for that defaultly setting title as Home and iron page match category as category
  	this.title="Home";
  	this.page="category";
  	namee=sessionStorage.getItem("info");
  	tempnamee=sessionStorage.getItem("tempinfo");
  	alert("hi "+namee+"  "+"halo "+tempnamee);
  	if((namee==""||namee==null)&&(tempnamee==""||tempnamee==null))
	{
	alert("no user");
	this.countvalue="0";
	this.bname="Signin";
	}
	else if(tempnamee!="")
	{
	if(tempnamee!=null)
	{
	alert("temp user");
	this.bname="Signin";
	this.$.tempservice.tempcountservice();
  	}
  	}
    if(namee!="")
	{
	if(namee!=null)
	{
	alert("user");
    document.querySelector('cart-service').countservice();
    this.bname="Signout";
    }
    }
    },
    setPage:function(page,bpage,title)
    {
    //Whenever changing iron page content it has to show corresponding label as a title and corresponding page and bottom placeholder for that here setting title and iron page match category
    this.title=title;
    this.page=page;
    this.bpage=bpage;
    this.searchtext="";
    },
    selectCategory:function(e)
    {
    this.title=e.target.selectedItem.textContent;
    this.bpage="page1";
    //alert(e.target.selectedItem.textContent);
    //alert(document.querySelector('paper-drawer-panel'));
    //document.querySelector('paper-drawer-panel').togglePanel();
    },
    signin:function()
    {
    if(this.bname=="Signin")
    {
    document.querySelector('my-app').setPage("login card","page1","");
    this.$.logincard.signin();
    }
    else if(this.bname=="Signout")
	{
	this.countvalue="0";
	   sessionStorage.setItem("info","");
       this.bname="Signin";
       document.querySelector('my-app').setPage("category","page1","Home");
       document.querySelector('app-service').setCategory("Home");
    }
    },
    name:function(name,tempname)
    {
    namee=name;
    tempnamee=tempnamee;
    this.bname="Signout";
    },
    viewcart:function()
    {
     document.querySelector('app-service').setCategory("Home");
	  if(sessionStorage.getItem("info")!="")
	  {
	  if(sessionStorage.getItem("info")!=null)
	    {
	    alert("user in view");
	    document.querySelector('cart-service').viewcart();

        }
       else
       {
      alert("no user in view");
	  document.querySelector('my-app').setPage("No Item","page1","");
       }
       }
       else
       {
       alert("no user in view");
	  document.querySelector('my-app').setPage("No Item","page1","");
       }
     if(sessionStorage.getItem("tempinfo")!="")
    {
  if(sessionStorage.getItem("tempinfo")!=null)
    {
    alert("temp user in view");
    document.querySelector('temp-service').viewcart();
    document.querySelector('app-service').setCategory("Home");
    }
    else
    {
    alert("no user in view");
	  document.querySelector('my-app').setPage("No Item","page1","");
    }
    }
   else
	{
	alert("no user in view");
	document.querySelector('my-app').setPage("No Item","page1","");
	}
    },
    setCount:function(cnt)
    {
    this.countvalue=cnt;
    },
    search:function(){
    this.$.filtermenu.style.visibility='visible';
    this.$.appservice.searchService(this.searchtext);
    }
  });
  })();
  </script>
</dom-module>
</body>
</html>